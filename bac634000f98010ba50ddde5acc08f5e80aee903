{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "7b6fc358_781b02b5",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1038805
      },
      "writtenOn": "2025-05-26T02:46:39Z",
      "side": 1,
      "message": "recheck",
      "revId": "bac634000f98010ba50ddde5acc08f5e80aee903",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b354afcc_e09e4da9",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1007990
      },
      "writtenOn": "2025-07-11T07:54:04Z",
      "side": 1,
      "message": "@emilxsi47@gmail.com could you please refer to Alon\u0027s comment (unresolved)",
      "revId": "bac634000f98010ba50ddde5acc08f5e80aee903",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "474652a2_4dea7c39",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1038819
      },
      "writtenOn": "2025-07-18T09:49:15Z",
      "side": 1,
      "message": "Just some suggestions for significant improvement on maintainability.",
      "revId": "bac634000f98010ba50ddde5acc08f5e80aee903",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "22a83812_7071ce2d",
        "filename": "eVSSIM/CONFIG/vssim_config_manager.c",
        "patchSetId": 2
      },
      "lineNbr": 147,
      "author": {
        "id": 1038819
      },
      "writtenOn": "2025-07-18T09:49:15Z",
      "side": 1,
      "message": "Please setup your IDE to not allow trailing white space at end of lines.",
      "revId": "bac634000f98010ba50ddde5acc08f5e80aee903",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7684c90b_c0f4b25e",
        "filename": "eVSSIM/CONFIG/vssim_config_manager.c",
        "patchSetId": 2
      },
      "lineNbr": 147,
      "author": {
        "id": 1038739
      },
      "writtenOn": "2025-07-25T17:22:20Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "22a83812_7071ce2d",
      "revId": "bac634000f98010ba50ddde5acc08f5e80aee903",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2d6993be_b25d0027",
        "filename": "eVSSIM/CONFIG/vssim_config_manager.c",
        "patchSetId": 2
      },
      "lineNbr": 187,
      "author": {
        "id": 1038819
      },
      "writtenOn": "2025-07-18T09:49:15Z",
      "side": 1,
      "message": "Seems like GET_SECTOR_SIZE, GET_PAGE_SIZE, etc. mistakenly still reference the internal, old parser fields, instead of your new `devices` struct list? At the same note, why are these values missing from `ssd_config_t`?",
      "revId": "bac634000f98010ba50ddde5acc08f5e80aee903",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "899f8494_41122ce5",
        "filename": "eVSSIM/CONFIG/vssim_config_manager.c",
        "patchSetId": 2
      },
      "lineNbr": 187,
      "author": {
        "id": 1038739
      },
      "writtenOn": "2025-07-25T17:22:20Z",
      "side": 1,
      "message": "We are still using the old globals, and that\u0027s why we have decided to keep GET_SECTOR_SIZE() and GET_PAGE_SIZE() as is",
      "parentUuid": "2d6993be_b25d0027",
      "revId": "bac634000f98010ba50ddde5acc08f5e80aee903",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4de2622f_c326f5c8",
        "filename": "eVSSIM/CONFIG/vssim_config_manager.c",
        "patchSetId": 2
      },
      "lineNbr": 202,
      "author": {
        "id": 1038819
      },
      "writtenOn": "2025-07-18T09:49:15Z",
      "side": 1,
      "message": "Please reconsider using `sscanf`, ChatGPT gave me this:\n\n```\nint parse_header(char *str) {\n    char name[32];  // temporary buffer for scanned name\n    int n1, n2;\n\n    if (sscanf(str, \"[nvme%d%d]\", \u0026n1, \u0026n2) !\u003d 2)\n        return 0;\n\n    if (n1 \u003d\u003d 0 \u0026\u0026 n2 \u003d\u003d 0)\n        return 0;\n\n    snprintf(DEVICE_NAME, sizeof(DEVICE_NAME), \"nvme%d%d\", n1, n2);\n    return 1;\n}\n```\n\nPerhaps it still requires some adjustment, but seems way more readable to me.",
      "revId": "bac634000f98010ba50ddde5acc08f5e80aee903",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e7f1002f_4eb98bfd",
        "filename": "eVSSIM/CONFIG/vssim_config_manager.c",
        "patchSetId": 2
      },
      "lineNbr": 202,
      "author": {
        "id": 1038739
      },
      "writtenOn": "2025-07-25T17:22:20Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "4de2622f_c326f5c8",
      "revId": "bac634000f98010ba50ddde5acc08f5e80aee903",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2e12beb6_1a67db1b",
        "filename": "eVSSIM/CONFIG/vssim_config_manager.c",
        "patchSetId": 2
      },
      "lineNbr": 257,
      "author": {
        "id": 1038819
      },
      "writtenOn": "2025-07-18T09:49:15Z",
      "side": 1,
      "message": "Make sure to not mix-up tabs and spaces (at least for new code...)",
      "revId": "bac634000f98010ba50ddde5acc08f5e80aee903",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0adcb40d_f3d7f3ca",
        "filename": "eVSSIM/CONFIG/vssim_config_manager.c",
        "patchSetId": 2
      },
      "lineNbr": 257,
      "author": {
        "id": 1038739
      },
      "writtenOn": "2025-07-25T17:22:20Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "2e12beb6_1a67db1b",
      "revId": "bac634000f98010ba50ddde5acc08f5e80aee903",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fedc52ae_09c1d803",
        "filename": "eVSSIM/CONFIG/vssim_config_manager.c",
        "patchSetId": 2
      },
      "lineNbr": 306,
      "author": {
        "id": 1038819
      },
      "writtenOn": "2025-07-18T09:49:15Z",
      "side": 1,
      "message": "There is a way to greatly simplify the code *and avoid risk of forgetting to copy/zero a field* by avoiding the need to copy fields one-by-one:\n\n```\nssd_config_t current_device \u003d {};\n\nconfig_param options[] \u003d {\n    {\"FILE_NAME\", \"%s\", current_device.file_name},\n    {\"PAGE_SIZE\", \"%d\", \u0026current_device.page_size}, /* you forgot to copy this one? */\n    {\"PAGE_NB\", \"%d\", \u0026current_device.page_nb},\n    {\"SECTOR_SIZE\", \"%d\", \u0026current_device.sector_size}, /* also this one? */\n\t/* ... */\n}\n\nvoid INIT_SSD_CONFIG(void)\n{\n\t/* ... */\n\n\t/* parse a device\u0027s config */\n\n\t/* when done, copy it to `devices` and re-initialize `current_config` */\n\tdevices[current_device_index++] \u003d current_device;\n\tmemset(\u0026current_device, 0, sizeof(ssd_config_t));\n}\n```\n\nThe idea is to always copy (and `memset`) config structs as a whole.",
      "revId": "bac634000f98010ba50ddde5acc08f5e80aee903",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "935b851b_8d824505",
        "filename": "eVSSIM/CONFIG/vssim_config_manager.c",
        "patchSetId": 2
      },
      "lineNbr": 306,
      "author": {
        "id": 1038739
      },
      "writtenOn": "2025-07-25T17:41:49Z",
      "side": 1,
      "message": "We didn\u0027t want to change the logic there because options[] doesn\u0027t include all the globals. for example, SECTOR_NB and SECTORS_PER_PAGE are missing",
      "parentUuid": "fedc52ae_09c1d803",
      "revId": "bac634000f98010ba50ddde5acc08f5e80aee903",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    }
  ]
}